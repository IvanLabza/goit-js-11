{"version":3,"file":"commonHelpers.js","sources":["../src/js/renderApp.js","../src/js/api.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction render(data, index) {\n  return `\n    <li class=\"gallery__item\">\n      <a href=\"${data.largeImageURL}\" target=\"_blank\">\n        <img class=\"gallery__image\" data-index=\"${index}\" src=\"${data.webformatURL}\" alt=\"${data.tags}\">\n        <ul class=\"gallery-item__description\">\n          <li>Likes: ${data.likes}</li>\n          <li>Views: ${data.views}</li>\n          <li>Downloads: ${data.downloads}</li>\n          <li>Comments: ${data.comments}</li>\n        </ul>\n      </a>\n    </li>\n  `;\n}\n\nexport function createEl(data) {\n  const gallery = document.getElementById('galary');\n  gallery.innerHTML = '';\n  for (let index = 0; index < data.length; index++) {\n    gallery.insertAdjacentHTML('beforeend', render(data[index], index));\n  }\n\n  renderBig(data);\n}\n\nfunction renderBig(obj) {\n  var lightbox = new SimpleLightbox('.gallery__item a').refresh();\n}\n\nexport function clearHtml() {\n    const gallery = document.getElementById('galary');\n    gallery.innerHTML = '';\n  \n}\n","import { createEl, clearHtml } from './renderApp';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputValue = document.querySelector('.form__input');\nconst form = document.querySelector('.form');\nconst key = '38303120-77261ecd691aecbe62c4afdac';\nconst url = `https://pixabay.com/api/?key=${key}`;\n\nasync function fetchDataWithLoader(value) {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  \n  try {\n    form.appendChild(loader);\n\n    const response = await fetch(`${url}&q=${value}&orientation=horizontal`);\n    if (!response.ok) {\n      throw new Error(`Failed to fetch. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    if (data.hits.length === 0) {\n      throw new Error('No img found');\n    }\n    createEl(data.hits);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n    });\n  } finally {\n    if (form.contains(loader)) {\n      form.removeChild(loader); \n    }\n  }\n}\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const value = inputValue.value;\n  clearHtml();\n  await fetchDataWithLoader(value); \n});\n\n"],"names":["render","data","index","createEl","gallery","renderBig","obj","SimpleLightbox","clearHtml","inputValue","form","key","url","fetchDataWithLoader","value","loader","response","error","iziToast","event"],"mappings":"6vBAGA,SAASA,EAAOC,EAAMC,EAAO,CAC3B,MAAO;AAAA;AAAA,iBAEQD,EAAK;AAAA,kDAC4BC,WAAeD,EAAK,sBAAsBA,EAAK;AAAA;AAAA,uBAE1EA,EAAK;AAAA,uBACLA,EAAK;AAAA,2BACDA,EAAK;AAAA,0BACNA,EAAK;AAAA;AAAA;AAAA;AAAA,GAK/B,CAEO,SAASE,EAASF,EAAM,CAC7B,MAAMG,EAAU,SAAS,eAAe,QAAQ,EAChDA,EAAQ,UAAY,GACpB,QAASF,EAAQ,EAAGA,EAAQD,EAAK,OAAQC,IACvCE,EAAQ,mBAAmB,YAAaJ,EAAOC,EAAKC,GAAQA,CAAK,CAAC,EAGpEG,EAAc,CAChB,CAEA,SAASA,EAAUC,EAAK,CACP,IAAIC,EAAe,kBAAkB,EAAE,QAAU,CAClE,CAEO,SAASC,GAAY,CACxB,MAAMJ,EAAU,SAAS,eAAe,QAAQ,EAChDA,EAAQ,UAAY,EAExB,CCjCA,MAAMK,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAM,qCACNC,EAAM,gCAAgCD,IAE5C,eAAeE,EAAoBC,EAAO,CACxC,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAE7B,GAAI,CACFL,EAAK,YAAYK,CAAM,EAEvB,MAAMC,EAAW,MAAM,MAAM,GAAGJ,OAASE,0BAA8B,EACvE,GAAI,CAACE,EAAS,GACZ,MAAM,IAAI,MAAM,4BAA4BA,EAAS,QAAQ,EAE/D,MAAMf,EAAO,MAAMe,EAAS,OAC5B,GAAIf,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,cAAc,EAEhCE,EAASF,EAAK,IAAI,CACnB,OAAQgB,EAAP,CACAC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EAAM,OACrB,CAAK,CACL,QAAY,CACJP,EAAK,SAASK,CAAM,GACtBL,EAAK,YAAYK,CAAM,CAE1B,CACH,CAEAL,EAAK,iBAAiB,SAAU,MAAMS,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAML,EAAQL,EAAW,MACzBD,IACA,MAAMK,EAAoBC,CAAK,CACjC,CAAC"}